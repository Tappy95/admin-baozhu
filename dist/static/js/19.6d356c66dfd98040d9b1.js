webpackJsonp([19],{fv6u:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("xT6B"),i={name:"TransactionChange",data:function(){return{dialogTableVisible:!1,dialogTable:!1,formtwo:{},dialogFormVisible:!1,form:{noticeTitle:"",noticeContent:"",password:"",isRelease:"1"},roles:{id:"",realname:""},reasonMess:!1,rules:{noticeTitle:[{required:!0,message:"请输入公告标题",trigger:"blur"}],noticeContent:[{required:!0,message:"请输入公告内容",trigger:"blur"}],isRelease:[{required:!0,message:"请选择是否发布",trigger:"change"}]},formLabelWidth:"120px",currentPage:1,pageSize:10,totalCount:0,formInline:{},tableData:[],isShow:!1,selectDept:[],selectData:[],staff:1,company:2,message:{}}},created:function(){this.accountList()},methods:{indexMethod:function(t){return 1*t+1},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":Object(l.a)(new Date(a),"yyyy-MM-dd hh:mm:sss")},accountList:function(){var t=this,e={pageNum:this.currentPage,pageSize:this.pageSize,mobile:this.formInline.mobile,isAuditing:this.formInline.isAuditing};this.$fetch("/api/lBalanceChange/userWithdrawalslist",e).then(function(e){if((e.statusCode+"").startsWith("2")){for(var a=e.data.list.length-1;a>=0;a--)"1"==e.data.list[a].accountType?e.data.list[a].accountType="微信":e.data.list[a].accountType="支付宝","1"==e.data.list[a].isAuditing?e.data.list[a].isAuditing="待审核":"2"==e.data.list[a].isAuditing?e.data.list[a].isAuditing="审核中":"3"==e.data.list[a].isAuditing?e.data.list[a].isAuditing="拒绝":"4"==e.data.list[a].isAuditing?e.data.list[a].isAuditing="成功":e.data.list[a].isAuditing="无需审核","1"==e.data.list[a].changedType?e.data.list[a].changedType="充值":"2"==e.data.list[a].changedType?e.data.list[a].changedType="提现":"3"==e.data.list[a].changedType?e.data.list[a].changedType="推荐好友":"4"==e.data.list[a].changedType?e.data.list[a].changedType="参与打卡":e.data.list[a].changedType="打卡奖励","1"==e.data.list[a].flowType?e.data.list[a].flowType="收入":e.data.list[a].flowType="支出",""!=e.data.list[a].account&&null!=e.data.list[a].account||(e.data.list[a].account="-");t.tableData=e.data.list,t.totalCount=e.data.total}else t.$message({type:"error",message:e.message,duration:3e3})})},search:function(){-1==this.formInline.isAuditing&&(this.formInline.isAuditing=""),this.currentPage=1,this.pageSize=10,this.accountList()},load:function(){this.form={},this.formInline={},this.dialogFormVisible=!0},getInfo:function(t,e){var a=this;1==e?this.dialogTableVisible=!0:this.dialogTable=!0,this.$fetch("/api/lBalanceChange/queryOne",{logId:t}).then(function(t){null!=t.data&&("2"==t.data.staffType?a.isShow=!1:a.isShow=!0,1==t.data.flowType?t.data.flowType="收入":t.data.flowType="支出",1==t.data.accountType?t.data.accountType="微信":t.data.accountType="支付宝",1==t.data.changedType?t.data.changedType="充值":2==t.data.changedType?t.data.changedType="提现":3==t.data.changedType?t.data.changedType="推荐好友":4==t.data.changedType?t.data.changedType="参与打卡":5==t.data.changedType&&(t.data.changedType="打卡奖励"),a.reasonMess=!1,a.dialogTableVisible?3==t.data.isAuditing&&(a.reasonMess=!0):1==t.data.isAuditing?t.data.isAuditing="待审核":2==t.data.isAuditing?t.data.isAuditing="审核中":3==t.data.isAuditing?(t.data.isAuditing="拒绝",a.reasonMess=!0):4==t.data.isAuditing?t.data.isAuditing="通过":t.data.isAuditing="无需审核",t.data.reviewTime=Object(l.a)(new Date(t.data.reviewTime),"yyyy-MM-dd hh:mm:sss"),t.data.changedTime=Object(l.a)(new Date(t.data.changedTime),"yyyy-MM-dd hh:mm:sss"),a.message=t.data)})},isAuditingChange:function(t){this.reasonMess=3==t},update:function(t){var e=this,a={logId:this.message.logId,isAuditing:this.message.isAuditing,reason:this.message.reason};this.$put("/api/lBalanceChange/modify",a).then(function(t){(t.statusCode+"").startsWith("2")&&(e.$message({type:"success",message:"修改成功！"}),e.dialogTableVisible=!1,e.accountList())})},handleSizeChange:function(t){this.pageSize=t,this.accountList()},handleCurrentChange:function(t){this.currentPage=t,this.accountList()},toggle:function(t){this.isShow=!this.isShow}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"administratormanage-wrap"},[a("div",{staticClass:"administratormanage-inner"},[t._m(0),t._v(" "),a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{attrs:{placeholder:"",clearable:""},model:{value:t.formInline.mobile,callback:function(e){t.$set(t.formInline,"mobile",e)},expression:"formInline.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"审核状态","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:""},model:{value:t.formInline.isAuditing,callback:function(e){t.$set(t.formInline,"isAuditing",e)},expression:"formInline.isAuditing"}},[a("el-option",{attrs:{label:"待审核",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"审核中",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"拒绝",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"通过",value:"4"}}),t._v(" "),a("el-option",{attrs:{label:"全部",value:"-1"}})],1)],1),t._v(" "),a("el-button",{on:{click:function(e){t.search()}}},[t._v("查询")])],1)],1),t._v(" "),a("div",{staticClass:"administratormanage-table"},[[a("el-table",{attrs:{data:t.tableData,height:"580"}},[a("el-table-column",{attrs:{fixed:"left",label:"序号",type:"index",index:t.indexMethod,width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"left",width:"150px",prop:"mobile",label:"电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"真实姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"flowType",label:"收支"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",width:"150px",label:"变更金额(元)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"account",width:"200px",label:"账户号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"accountType",label:"账号类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"changedType",label:"变更类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isAuditing",label:"审核状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"reviewTime",width:"200px",label:"审核时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.getInfo(e.row.logId,2)}}},[t._v("查看")])]}}])})],1)],t._v(" "),a("el-dialog",{attrs:{title:"提现详情",visible:t.dialogTable,width:"800px"},on:{"update:visible":function(e){t.dialogTable=e}}},[a("el-form",[a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:18}},[a("el-form-item",{attrs:{label:"用户id:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.message.userId,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:10}},[a("el-form-item",{attrs:{label:"真实姓名:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.message.mobile,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:10}},[a("el-form-item",{attrs:{label:"手机号:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.message.mobile,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:10}},[a("el-form-item",{attrs:{label:"账户号:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.message.account,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:10}},[a("el-form-item",{attrs:{label:"账号类型:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.message.accountType,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:10}},[a("el-form-item",{attrs:{label:"变更金额:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:"￥"+t.message.amount,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:10}},[a("el-form-item",{attrs:{label:"变更时间:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.message.changedTime,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:10}},[a("el-form-item",{attrs:{label:"变更类型:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.message.changedType,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:10}},[a("el-form-item",{attrs:{label:"流水类型:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.message.flowType,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:10}},[a("el-form-item",{attrs:{label:"审核时间:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.message.reviewTime,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:10}},[a("el-form-item",{attrs:{label:"审核结果:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.message.isAuditing,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1),t._v(" "),t.reasonMess?a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:20}},[a("el-form-item",{attrs:{label:"拒绝原因:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{rows:4,type:"textarea",value:t.message.reason,disabled:!0,"auto-complete":"off",clearable:""}})],1)],1):t._e()],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogTable=!1}}},[t._v("取 消")])],1)],1)],2),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,70],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"administratormanage-header"},[e("h3",[this._v("财务流水/交易记录xs")]),this._v(" "),e("hr")])}]};var o=a("VU/8")(i,s,!1,function(t){a("lR7X")},null,null);e.default=o.exports},lR7X:function(t,e){}});