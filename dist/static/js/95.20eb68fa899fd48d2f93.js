webpackJsonp([95],{"2B4C":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("xT6B"),n={name:"FightingInfo",data:function(){return{formLabelWidth:"120px",currentPage:1,pageSize:10,totalCount:0,formInline:{},tableData:[],isShow:!1,selectDept:[],selectData:[],staff:1,company:2,message:{}}},created:function(){this.accountList()},methods:{indexMethod:function(t){return 1*t+1},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":Object(i.a)(new Date(a),"yyyy-MM-dd hh:mm:sss")},accountList:function(){var t=this,e={pageNum:this.currentPage,pageSize:this.pageSize,state:this.formInline.state};this.$fetch("/api/mFightingInfo/list",e).then(function(e){if((e.statusCode+"").startsWith("2")){for(var a=e.data.list.length-1;a>=0;a--)e.data.list[a].fightingTime=Object(i.a)(new Date(e.data.list[a].fightingTime),"yyyy-MM-dd hh:mm:sss"),1==e.data.list[a].state?e.data.list[a].state="发起":2==e.data.list[a].state?e.data.list[a].state="开始":3==e.data.list[a].state?e.data.list[a].state="进行中":e.data.list[a].state="结束";t.tableData=e.data.list,t.totalCount=e.data.total}else t.$message({type:"error",message:e.message,duration:3e3})})},search:function(){this.currentPage=1,this.pageSize=10,this.accountList()},handleSizeChange:function(t){this.pageSize=t,this.accountList()},handleCurrentChange:function(t){this.currentPage=t,this.accountList()},toggle:function(t){this.isShow=!this.isShow}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fighting-info-wrap"},[a("div",{staticClass:"fighting-info-inner"},[t._m(0),t._v(" "),a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"对战状态"}},[a("el-select",{attrs:{placeholder:"请选择对战状态"},model:{value:t.formInline.state,callback:function(e){t.$set(t.formInline,"state",e)},expression:"formInline.state"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"发起",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"开始",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"进行中",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"结束",value:"4"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.search()}}},[t._v("查询")])],1)],1),t._v(" "),a("div",{staticClass:"fighting-info-table"},[[a("el-table",{attrs:{data:t.tableData,height:"506"}},[a("el-table-column",{attrs:{fixed:"left",label:"序号",type:"index",index:t.indexMethod,width:"80"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"left","min-width":"150px",prop:"initiatorName",label:"发起人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"defenseName","min-width":"150px",label:"参与人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"initiatorCoin","min-width":"180px",label:"发起人支付金币数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"defenseCoin","min-width":"180px",label:"参与人支付金币"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fightingTime",formatter:t.dateFormat,width:"200px",label:"对战时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"winnerName","min-width":"150px",label:"胜利者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"victoryScore","min-width":"150px",label:"胜利分数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"failureScore","min-width":"150px",label:"失败分数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"useTime",width:"100px",label:"对战总时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"对战状态"}})],1)]],2),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,70],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fighting-info-header"},[e("h3",[this._v("答题对战/对战记录")]),this._v(" "),e("hr")])}]};var s=a("VU/8")(n,l,!1,function(t){a("V/4k")},null,null);e.default=s.exports},"V/4k":function(t,e){}});